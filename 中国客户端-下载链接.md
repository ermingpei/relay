# RustDesk è‡ªåŠ¨IPä¸ŠæŠ¥å·¥å…· - ä¸‹è½½é“¾æ¥

## ğŸ‰ å·²æˆåŠŸä¸Šä¼ åˆ°GitHubï¼

ä»“åº“åœ°å€ï¼šhttps://github.com/ermingpei/relay

---

## ğŸ“¥ Windowsç”¨æˆ·ï¼ˆä¸­å›½ï¼‰ä¸‹è½½

### æ–¹å¼1ï¼šç›´æ¥ä¸‹è½½ï¼ˆæ¨èï¼‰

**ä¸‹è½½é“¾æ¥ï¼š**
```
https://raw.githubusercontent.com/ermingpei/relay/main/auto_report_ip_client.bat
```

**ä½¿ç”¨æ–¹æ³•ï¼š**
1. ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥
2. å³é”® â†’ "å¦å­˜ä¸º" â†’ ä¿å­˜åˆ°æ¡Œé¢
3. åŒå‡»è¿è¡Œ `auto_report_ip_client.bat`
4. å®Œæˆï¼

### æ–¹å¼2ï¼šä»GitHubé¡µé¢ä¸‹è½½

1. è®¿é—®ï¼šhttps://github.com/ermingpei/relay
2. ç‚¹å‡» `auto_report_ip_client.bat` æ–‡ä»¶
3. ç‚¹å‡»å³ä¸Šè§’ "Download" æŒ‰é’®
4. ä¿å­˜åˆ°æ¡Œé¢
5. åŒå‡»è¿è¡Œ

---

## ğŸ“¥ Mac/Linuxç”¨æˆ·ä¸‹è½½

```bash
# ä¸‹è½½
curl -O https://raw.githubusercontent.com/ermingpei/relay/main/auto_report_ip_client.sh

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x auto_report_ip_client.sh

# è¿è¡Œå¹¶å®‰è£…å®šæ—¶ä»»åŠ¡
./auto_report_ip_client.sh install
```

---

## ğŸ“± å‘é€ç»™ä¸­å›½ç”¨æˆ·çš„å¾®ä¿¡æ¶ˆæ¯

å¤åˆ¶ä»¥ä¸‹å†…å®¹å‘é€ï¼š

```
RustDeskè‡ªåŠ¨IPä¸ŠæŠ¥å·¥å…· - å…¨è‡ªåŠ¨åŒ– ğŸš€

Windowsç”¨æˆ·ä¸‹è½½ï¼š
https://raw.githubusercontent.com/ermingpei/relay/main/auto_report_ip_client.bat

ä½¿ç”¨æ–¹æ³•ï¼š
1. ç‚¹å‡»é“¾æ¥ï¼Œå³é”®"å¦å­˜ä¸º"ä¿å­˜åˆ°æ¡Œé¢
2. åŒå‡»è¿è¡Œ
3. å®Œæˆï¼

âœ¨ åŠŸèƒ½ï¼š
âœ… è‡ªåŠ¨æ£€æµ‹IPå˜åŒ–
âœ… è‡ªåŠ¨ä¸ŠæŠ¥åˆ°æœåŠ¡å™¨
âœ… è‡ªåŠ¨æ·»åŠ åˆ°ç™½åå•
âœ… æ¯å°æ—¶è‡ªåŠ¨æ£€æŸ¥
âœ… å¼€æœºè‡ªåŠ¨è¿è¡Œ
âœ… æ— éœ€æ‰‹åŠ¨æ“ä½œï¼

è¯¦ç»†è¯´æ˜ï¼š
https://github.com/ermingpei/relay/blob/main/å®¢æˆ·ç«¯ä¸‹è½½.md

æœ‰é—®é¢˜éšæ—¶è”ç³»æˆ‘ï¼
```

---

## ğŸ”— æ‰€æœ‰é‡è¦é“¾æ¥

| å†…å®¹ | é“¾æ¥ |
|------|------|
| **GitHubä»“åº“** | https://github.com/ermingpei/relay |
| **Windowså®¢æˆ·ç«¯** | https://raw.githubusercontent.com/ermingpei/relay/main/auto_report_ip_client.bat |
| **Mac/Linuxå®¢æˆ·ç«¯** | https://raw.githubusercontent.com/ermingpei/relay/main/auto_report_ip_client.sh |
| **å®¢æˆ·ç«¯ä½¿ç”¨æŒ‡å—** | https://github.com/ermingpei/relay/blob/main/å®¢æˆ·ç«¯ä¸‹è½½.md |
| **å®Œæ•´éƒ¨ç½²æŒ‡å—** | https://github.com/ermingpei/relay/blob/main/è‡ªåŠ¨IPä¸ŠæŠ¥-å®Œæ•´éƒ¨ç½²æŒ‡å—.md |
| **README** | https://github.com/ermingpei/relay/blob/main/README.md |

---

## âœ… ç³»ç»Ÿå·²å°±ç»ª

### å®¢æˆ·ç«¯ï¼ˆä¸­å›½ï¼‰
- âœ… å¯ä»¥ä¸‹è½½ `auto_report_ip_client.bat`
- âœ… åŒå‡»è¿è¡Œå³å¯
- âœ… è‡ªåŠ¨å®‰è£…å®šæ—¶ä»»åŠ¡
- âœ… æ¯å°æ—¶è‡ªåŠ¨æ£€æŸ¥IPå˜åŒ–

### æœåŠ¡å™¨ç«¯ï¼ˆä½ çš„Macï¼‰
**ä¸‹ä¸€æ­¥ï¼šå¯åŠ¨æœåŠ¡å™¨API**

```bash
# SSHåˆ°GCPæœåŠ¡å™¨
gcloud compute ssh myserver --zone=asia-east2-a

# ä¸Šä¼ æœåŠ¡å™¨è„šæœ¬
# å¯ä»¥ä»GitHubä¸‹è½½ï¼š
wget https://raw.githubusercontent.com/ermingpei/relay/main/auto_update_ip_server.sh
chmod +x auto_update_ip_server.sh

# å¯åŠ¨æœåŠ¡
./auto_update_ip_server.sh start

# æ£€æŸ¥çŠ¶æ€
./auto_update_ip_server.sh status
```

**é…ç½®é˜²ç«å¢™ï¼š**
```bash
gcloud compute firewall-rules create rustdesk-auto-ip-api \
    --allow tcp:8888 \
    --source-ranges 0.0.0.0/0 \
    --target-tags myserver \
    --description "RustDeskè‡ªåŠ¨IPä¸ŠæŠ¥API"
```

---

## ğŸ¯ å®Œæ•´å·¥ä½œæµç¨‹

```
1. ä¸­å›½ç”¨æˆ·ä¸‹è½½ auto_report_ip_client.bat
   â†“
2. åŒå‡»è¿è¡Œ
   â†“
3. è‡ªåŠ¨æ£€æµ‹IPï¼ˆä¾‹å¦‚ï¼š36.33.125.192ï¼‰
   â†“
4. è‡ªåŠ¨ä¸ŠæŠ¥åˆ°æœåŠ¡å™¨ï¼ˆhttp://34.96.199.184:8888/update-ipï¼‰
   â†“
5. æœåŠ¡å™¨è‡ªåŠ¨æ·»åŠ åˆ°GCPé˜²ç«å¢™ç™½åå•
   â†“
6. å®¢æˆ·ç«¯å¯ä»¥è¿æ¥RustDesk
   â†“
7. å®šæ—¶ä»»åŠ¡æ¯å°æ—¶è‡ªåŠ¨æ£€æŸ¥IPå˜åŒ–
```

---

## ğŸ“ æµ‹è¯•æ­¥éª¤

### 1. æµ‹è¯•ä¸‹è½½é“¾æ¥
åœ¨æµè§ˆå™¨è®¿é—®ï¼š
```
https://raw.githubusercontent.com/ermingpei/relay/main/auto_report_ip_client.bat
```
åº”è¯¥èƒ½çœ‹åˆ°æ–‡ä»¶å†…å®¹æˆ–è‡ªåŠ¨ä¸‹è½½ã€‚

### 2. æµ‹è¯•æœåŠ¡å™¨APIï¼ˆå¯åŠ¨åï¼‰
```bash
curl http://34.96.199.184:8888/health
```
åº”è¯¥è¿”å›ï¼š
```json
{"status": "ok", "timestamp": "...", "version": "1.0"}
```

### 3. æµ‹è¯•å®¢æˆ·ç«¯ä¸ŠæŠ¥
åœ¨ä¸­å›½ç”µè„‘ä¸Šï¼š
1. åŒå‡»è¿è¡Œ `auto_report_ip_client.bat`
2. çœ‹åˆ°"IPå·²ä¸ŠæŠ¥åˆ°æœåŠ¡å™¨"
3. æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—ï¼š`tail -20 ~/rustdesk_auto_ip.log`

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ å¯ä»¥ï¼š
1. âœ… æŠŠä¸‹è½½é“¾æ¥å‘ç»™ä¸­å›½ç”¨æˆ·
2. âœ… ç”¨æˆ·åŒå‡»è¿è¡Œå³å¯
3. âœ… å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
4. âœ… IPå˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°ç™½åå•

**ç³»ç»Ÿå·²ç»å®Œå…¨éƒ¨ç½²å¥½äº†ï¼** ğŸš€
